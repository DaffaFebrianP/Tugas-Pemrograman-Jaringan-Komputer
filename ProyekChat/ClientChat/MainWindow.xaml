<Window x:Class="ClientChat.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chat Client" Height="500" Width="650">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <!-- Panel kiri: daftar user -->
            <ColumnDefinition Width="150"/>
            <!-- Panel kanan: chat -->
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Panel kiri -->
        <StackPanel Grid.Column="0" Margin="0 0 10 0">
            <TextBlock Text="Online Users:" FontWeight="Bold" Margin="0 0 0 5"/>
            <ListBox Name="UserListBox" Height="400"/>
        </StackPanel>

        <!-- Panel kanan (chat) -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Baris 1: koneksi -->
                <RowDefinition Height="*"/>
                <!-- Baris 2: area chat -->
                <RowDefinition Height="Auto"/>
                <!-- Baris 3: indikator typing -->
                <RowDefinition Height="Auto"/>
                <!-- Baris 4: input pesan -->
            </Grid.RowDefinitions>

            <!-- Baris 1: Input koneksi -->
            <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0 0 0 10">
                <TextBlock Text="IP:" Margin="0 0 5 0"/>
                <TextBox Name="IpText" Width="100" Text="127.0.0.1" Margin="0 0 10 0"/>
                <TextBlock Text="Port:" Margin="0 0 5 0"/>
                <TextBox Name="PortText" Width="60" Text="9000" Margin="0 0 10 0"/>
                <TextBlock Text="Username:" Margin="0 0 5 0"/>
                <TextBox Name="UsernameText" Width="120" Text="user1" Margin="0 0 10 0"/>
                <Button Name="ConnectBtn" Content="Connect" Width="80" Click="ConnectBtn_Click"/>
            </StackPanel>

            <!-- Baris 2: Chat -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" BorderBrush="Gray" BorderThickness="1">
                <StackPanel Name="ChatPanel" Margin="5"/>
            </ScrollViewer>

            <!-- Baris 3: Indikator sedang mengetik -->
            <TextBlock x:Name="TypingIndicator"
                       Grid.Row="2"
                       Text=""
                       FontStyle="Italic"
                       Foreground="Gray"
                       Margin="5,2,5,2"/>

            <!-- Baris 4: Input pesan -->
            <StackPanel Orientation="Horizontal" Grid.Row="3" Margin="0 10 0 0">
                <TextBox Name="MessageText" Width="300" Height="30" Margin="0 0 10 0"
                         VerticalContentAlignment="Center" 
                         KeyDown="MessageText_KeyDown"
                         TextChanged="MessageText_TextChanged"/>
                <Button Name="SendBtn" Content="Send" Width="80" Click="SendBtn_Click" IsEnabled="False"/>
                <Button Name="DisconnectBtn" Content="Disconnect" Width="90" Click="DisconnectBtn_Click" IsEnabled="False"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
